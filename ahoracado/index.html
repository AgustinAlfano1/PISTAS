<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" href="data:image/svg+xml,
<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
<text y=%22.9em%22 font-size=%2290%22>ðŸŽ…</text>
</svg>">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pista Jime</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  font-family: Arial, Helvetica, sans-serif;
  background-image: url("fondo-navidad.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  justify-content: center;
  align-items: center;
}

  /* HEADER */
  .header {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 32px;
    font-weight: bold;
    margin-bottom: 10px;
  }

  .header span {
    font-size: 36px;
  }

  .palabras {
    margin-top: 10px;
    text-align: center;
  }

  .linea {
    font-size: 32px;
    letter-spacing: 8px;
    margin: 6px 0;
  }

  canvas {
    display: block;
    margin: 10px auto 0 auto;
  }

  .mensaje-final {
    position: fixed;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 30px;
    font-weight: bold;
    display: none;
    padding: 16px 24px;
    background: white;
    border-radius: 10px;
    text-align: center;
    z-index: 4000;
  }

  .mensaje-rojo { color: red; }
  .mensaje-verde { color: green; }

  .teclado {
    margin-top: 15px;
    max-width: 420px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 6px;
  }

  .teclado button {
    width: 40px;
    height: 40px;
    font-size: 16px;
    cursor: pointer;
  }

  .teclado button:disabled {
    background: #ddd;
    cursor: not-allowed;
  }

  .reiniciar {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 18px;
    display: none;
    cursor: pointer;
  }

  .cruz {
    position: fixed;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
    z-index: 3000;
  }

  .cruz::before,
  .cruz::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 20%;
    background: red;
    top: 40%;
    left: 0;
  }

  .cruz::before { transform: rotate(45deg); }
  .cruz::after { transform: rotate(-45deg); }

  @media (max-width: 600px) {
    .linea { font-size: 26px; }
    .mensaje-final { font-size: 22px; }
    .header { font-size: 26px; }
    .header span { font-size: 30px; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <span>ðŸŽ…</span>
  <div>Ahoracado</div>
</div>

<div class="palabras">
  <div class="linea" id="linea1"></div>
  <div class="linea" id="linea2"></div>
</div>

<canvas id="ahorcado" width="200" height="250"></canvas>

<div class="teclado" id="teclado"></div>

<button class="reiniciar" id="reiniciar" onclick="iniciarJuego()">Reintentar</button>

<div class="cruz" id="cruz"></div>
<div class="mensaje-final" id="mensajeFinal"></div>

<script>
  const frase1 = "LABURAMOS";
  const frase2 = "CERQUITA";
  const maxErrores = 6;

  let letrasUsadas = [];
  let errores = 0;
  let juegoTerminado = false;

  const linea1El = document.getElementById("linea1");
  const linea2El = document.getElementById("linea2");
  const tecladoEl = document.getElementById("teclado");
  const mensajeFinal = document.getElementById("mensajeFinal");
  const canvas = document.getElementById("ahorcado");
  const ctx = canvas.getContext("2d");
  const reiniciarBtn = document.getElementById("reiniciar");
  const cruzEl = document.getElementById("cruz");

  function iniciarJuego() {
    letrasUsadas = [];
    errores = 0;
    juegoTerminado = false;
    tecladoEl.innerHTML = "";
    mensajeFinal.style.display = "none";
    mensajeFinal.className = "mensaje-final";
    reiniciarBtn.style.display = "none";
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    dibujarBase();
    dibujarLineas();
    crearTeclado();
  }

  function dibujarBase() {
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(10,240); ctx.lineTo(190,240);
    ctx.moveTo(50,240); ctx.lineTo(50,20);
    ctx.moveTo(50,20); ctx.lineTo(140,20);
    ctx.lineTo(140,40);
    ctx.stroke();
  }

  function dibujarLineas() {
    linea1El.textContent = frase1.split("").map(l =>
      letrasUsadas.includes(l) ? l : "_"
    ).join(" ");

    linea2El.textContent = frase2.split("").map(l =>
      letrasUsadas.includes(l) ? l : "_"
    ).join(" ");
  }

  function crearTeclado() {
    "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(letra => {
      const btn = document.createElement("button");
      btn.textContent = letra;
      btn.onclick = () => jugar(letra, btn);
      tecladoEl.appendChild(btn);
    });
  }

  function jugar(letra, boton) {
    if (juegoTerminado) return;
    boton.disabled = true;

    if (frase1.includes(letra) || frase2.includes(letra)) {
      letrasUsadas.push(letra);
      dibujarLineas();
      verificarVictoria();
    } else {
      errores++;
      if (errores < maxErrores) mostrarCruzAnimada();
      dibujarAhorcado();
      if (errores === maxErrores) perder();
    }
  }

  function mostrarCruzAnimada() {
    cruzEl.style.display = "block";
    let size = 50;
    let growing = true;

    cruzEl.style.width = cruzEl.style.height = size + "px";

    const anim = setInterval(() => {
      size += growing ? 3 : -3;
      if (size >= 80) growing = false;
      if (size <= 50 && !growing) {
        clearInterval(anim);
        cruzEl.style.display = "none";
      }
      cruzEl.style.width = cruzEl.style.height = size + "px";
    }, 40);
  }

  function dibujarAhorcado() {
    ctx.beginPath();
    if (errores === 1) ctx.arc(140,60,20,0,Math.PI*2);
    if (errores === 2) ctx.moveTo(140,80), ctx.lineTo(140,140);
    if (errores === 3) ctx.moveTo(140,100), ctx.lineTo(110,130);
    if (errores === 4) ctx.moveTo(140,100), ctx.lineTo(170,130);
    if (errores === 5) ctx.moveTo(140,140), ctx.lineTo(110,180);
    if (errores === 6) ctx.moveTo(140,140), ctx.lineTo(170,180);
    ctx.stroke();
  }

  function verificarVictoria() {
    const completo =
      frase1.split("").every(l => letrasUsadas.includes(l)) &&
      frase2.split("").every(l => letrasUsadas.includes(l));

    if (completo) {
      juegoTerminado = true;
      mensajeFinal.textContent = "Grandee Jimee!!";
      mensajeFinal.classList.add("mensaje-verde");
      mensajeFinal.style.display = "block";
    }
  }

  function perder() {
    juegoTerminado = true;
    mensajeFinal.textContent =
      "Perdisteee, Perdisteee, no hay nadie peor que vos ðŸŽ¶";
    mensajeFinal.classList.add("mensaje-rojo");
    mensajeFinal.style.display = "block";
    reiniciarBtn.style.display = "block";
  }

  iniciarJuego();
</script>

</body>
</html>
